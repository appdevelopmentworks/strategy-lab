# StrategyLab

システムトレード戦略のバックテスト・分析ツール

![Version](https://img.shields.io/badge/version-1.0.0-blue)
![Strategies](https://img.shields.io/badge/strategies-42-green)
![License](https://img.shields.io/badge/license-MIT-yellow)

## 概要

StrategyLabは、42種類のトレード戦略を自動でバックテストし、最適な戦略とパラメーターを発見するためのWebアプリケーションです。

## 機能

### 🎯 42種類のトレード戦略

| カテゴリ | 戦略数 | 例 |
|----------|--------|-----|
| トレンドフォロー | 7 | SMA/EMAクロス、MACD、一目均衡表 |
| モメンタム | 8 | RSI、ストキャスティクス、RCI |
| ブレイクアウト | 5 | ボリンジャー、ドンチャン、52週高値 |
| ミーンリバーサル | 4 | RSIダイバージェンス、Zスコア |
| ボリューム | 4 | OBV、VWAP、MFI |
| パターン認識 | 5 | ゴールデンクロス、ダブルボトム |
| 複合 | 9 | タートルズ、フィボナッチ、ピボット |

### 📊 分析機能

- **バックテストエンジン**: 過去データでの戦略検証
- **パフォーマンス指標**: 勝率、プロフィットファクター、最大ドローダウン、シャープレシオ
- **複数銘柄比較**: 銘柄間での戦略パフォーマンス比較
- **パラメーター調整**: リアルタイムプレビュー付きスライダー
- **プリセット保存**: お気に入りの設定を保存

### 📈 可視化

- **価格チャート**: ローソク足/ラインチャート（lightweight-charts）
- **売買シグナル**: チャート上にBUY/SELLマーカー表示
- **結果チャート**: 戦略別パフォーマンス比較グラフ

### 📤 エクスポート

- **データ出力**: CSV / JSON
- **コード生成**: PineScript (TradingView) / MQL4 / MQL5

## 技術スタック

- **フレームワーク**: Next.js 15 (App Router)
- **言語**: TypeScript 5.1+
- **UI**: shadcn/ui, Tailwind CSS
- **チャート**: Recharts, lightweight-charts
- **データソース**: Yahoo Finance API

## セットアップ

```bash
# リポジトリをクローン
git clone https://github.com/yourname/strategy-lab.git
cd strategy-lab

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

ブラウザで http://localhost:3000 を開きます。

## 使い方

1. **ティッカー入力**: 分析したい銘柄コードを入力（例: AAPL, NVDA, 7203.T）
2. **期間選択**: バックテスト期間を選択（1年〜最大）
3. **分析開始**: ボタンをクリックして42戦略のバックテストを実行
4. **結果確認**: 
   - 結果一覧タブで戦略別パフォーマンスを確認
   - 銘柄比較タブで複数銘柄の比較分析
   - チャートタブで価格と売買シグナルを可視化
5. **パラメーター調整**: パラメータータブでスライダーを調整
6. **エクスポート**: 結果をCSV/JSON/コードとして出力

## 対応銘柄

- 米国株: AAPL, GOOGL, MSFT, NVDA, TSLA など
- 日本株: 7203.T (トヨタ), 9984.T (ソフトバンク) など
- ETF: SPY, QQQ, VTI など
- 指数: ^GSPC (S&P 500), ^N225 (日経225)

## プロジェクト構成

```
strategy-lab/
├── src/
│   ├── app/                 # Next.js App Router
│   │   ├── api/            # APIエンドポイント
│   │   │   ├── backtest/   # バックテストAPI
│   │   │   ├── export/     # エクスポートAPI
│   │   │   └── stock/      # 株価取得API
│   │   └── page.tsx        # メインページ
│   ├── components/         # UIコンポーネント
│   ├── lib/
│   │   ├── backtest/       # バックテストエンジン
│   │   ├── indicators/     # テクニカル指標
│   │   └── strategies/     # トレード戦略
│   └── types/              # TypeScript型定義
├── docs/                   # ドキュメント
└── public/                 # 静的ファイル
```

## 戦略一覧

<details>
<summary>全42戦略を表示</summary>

### トレンドフォロー (TF001-TF007)
- TF001: SMAクロスオーバー
- TF002: EMAクロスオーバー
- TF003: MACDシグナル
- TF004: ADXトレンド
- TF005: パラボリックSAR
- TF006: スーパートレンド
- TF007: 一目均衡表・雲ブレイク

### モメンタム (MO001-MO008)
- MO001: RSI順張り
- MO002: RSI逆張り
- MO003: ストキャスティクス
- MO004: CCI
- MO005: ウィリアムズ%R
- MO006: ROC（変化率）
- MO007: モメンタム
- MO008: RCI（順位相関指数）

### ブレイクアウト (BO001-BO005)
- BO001: ボリンジャーバンド・ブレイクアウト
- BO002: ドンチャンチャネル
- BO003: ケルトナーチャネル
- BO004: 52週高値ブレイク
- BO005: ATRブレイクアウト

### ミーンリバーサル (MR001-MR004)
- MR001: ボリンジャーバンド逆張り
- MR002: RSIダイバージェンス
- MR003: 移動平均乖離率
- MR004: Zスコア

### ボリューム (VO001-VO004)
- VO001: OBV
- VO002: VWAPリバーサル
- VO003: ボリュームブレイクアウト
- VO004: MFI

### パターン認識 (PA001-PA005)
- PA001: ゴールデンクロス
- PA002: デッドクロス
- PA003: 三役好転
- PA004: ダブルボトム
- PA005: ヘッドアンドショルダー

### 複合 (CO001-CO009)
- CO001: MACD+RSIフィルター
- CO002: トレンド+モメンタム
- CO003: ボラティリティ調整
- CO004: 移動平均リボン
- CO005: 高値安値チャネル
- CO006: ピボットポイント
- CO007: フィボナッチ
- CO008: ハイローブレイクアウト
- CO009: タートルズ

</details>

## ライセンス

MIT

## 免責事項

本ツールは教育・研究目的で提供されています。実際の投資判断は自己責任で行ってください。過去のパフォーマンスは将来の結果を保証するものではありません。
